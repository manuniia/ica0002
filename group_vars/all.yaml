ansible_python_interpreter: python3

#mysql
mysql_host: "db-{{ groups['db_servers'][0].split('-')[1] }}"
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37313534303165646364646134323837626632323564316164646262343038323532366535386163
          3534643631663330356162386561626264316263333662360a363839663237343434393332613133
          36663038643365633766323361356162336635343235646461346163366431306637636663383031
          3364616632323831390a346132313262626332656366396364396463643832613061323064613631
          6161

#mysql exporter
mysql_exporter_user: exporter
mysql_exporter_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37313534303165646364646134323837626632323564316164646262343038323532366535386163
          3534643631663330356162386561626264316263333662360a363839663237343434393332613133
          36663038643365633766323361356162336635343235646461346163366431306637636663383031
          3364616632323831390a346132313262626332656366396364396463643832613061323064613631
          6161

#mysql backup
mysql_backup_user: backup
mysql_backup_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37313534303165646364646134323837626632323564316164646262343038323532366535386163
          3534643631663330356162386561626264316263333662360a363839663237343434393332613133
          36663038643365633766323361356162336635343235646461346163366431306637636663383031
          3364616632323831390a346132313262626332656366396364396463643832613061323064613631
          6161

#mysql replication
mysql_rep_user: replication
mysql_rep_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37313534303165646364646134323837626632323564316164646262343038323532366535386163
          3534643631663330356162386561626264316263333662360a363839663237343434393332613133
          36663038643365633766323361356162336635343235646461346163366431306637636663383031
          3364616632323831390a346132313262626332656366396364396463643832613061323064613631
          6161
node_id: "{{ (ansible_port / 100) | int }}"

mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"

#dns
startup_name: slayble.ttu
forwarders:
            - 1.1.1.1
            - 8.8.8.8
            - 9.9.9.9

nets: 
    - 192.168.42.0/23
    - 127.0.0.0/8
    - 172.17.0.0/16

transfer_key_secret: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            30636433616564613666396435346366663738356430363362396335313231663961646662626236
            6632613366376236306365333863326261313766346435620a336333613933383065303835366463
            61306531396234356536343036633235303631626338666235346431303836656435316666313730
            3735643161343237370a323735333665336564313436323234376532623866653261313362373531
            63633837303737656162636161353030336138393735396165343865646432613338343034343566
            3537323930626561623330383962383364616261363839316666

nsupdate_key_secret: !vault |
            $ANSIBLE_VAULT;1.1;AES256
            35306530386331303534376534656334363638353633626532303134663230646633303830343364
            3337623330386366653134613930643439613733633164360a646632643837613133363865613961
            37383865613537656333656263323334656631303863353635663463633333323166346334336362
            3333373633646162630a323430343663323630633963636466373636313830633431626633313262
            30636161343136326236666434613530383061376364303164343963616433663437393334353434
            3733626330336239643166663836353261343531323032383761

#external_url
external_url: "193.40.156.67:{{ external_port }}80"
external_port: "{{ (ansible_port / 100) | int }}"

#grafana
grafana_port: 3001
grafana_user: manuniia
grafana_password:  !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37313534303165646364646134323837626632323564316164646262343038323532366535386163
          3534643631663330356162386561626264316263333662360a363839663237343434393332613133
          36663038643365633766323361356162336635343235646461346163366431306637636663383031
          3364616632323831390a346132313262626332656366396364396463643832613061323064613631
          6161

#backup
backup_ip: 192.168.42.132
backup_server_ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90
domain: slayble.ttu


#agama
container_num: 3

#keepalived
virtual_ipaddress: >-
    {% set ip_parts = hostvars['manuniia-1']['ansible_default_ipv4']['address'].split('.') %}
    {% set third_octet = ip_parts[2] | int %}
    {% if third_octet == 42 %}
        {{ ip_parts[0] }}.{{ ip_parts[1] }}.100.{{ ip_parts[3] }}/24
    {% elif third_octet == 43 %}
        {{ ip_parts[0] }}.{{ ip_parts[1] }}.101.{{ ip_parts[3] }}/24
    {% else %}
        {{ original_ip }}/24
    {% endif -%}
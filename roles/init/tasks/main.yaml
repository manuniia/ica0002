# - name: Ansible ping module
#   ansible.builtin.ping:

- name: Update APT cache
  ansible.builtin.apt:
    cache_valid_time: 86400

- name: install prometheus
  ansible.builtin.apt:
    name: prometheus
    state: present

- name: install rsyslog
  ansible.builtin.apt:
    name: rsyslog
    state: present

- name: Copy rsyslog conf for telegraf
  ansible.builtin.template:
    src: ../templates/50-telegraf.conf
    dest: /etc/rsyslog.d/50-telegraf.conf

# - name: Create a user 'Juri'
#   ansible.builtin.user:
#     name: Juri

# - name: Set authorized key for Juri
#   ansible.posix.authorized_key:
#     user: Juri
#     state: present
#     key: https://github.com/hudolejev.keys

# - name: Create a user 'Roman'
#   ansible.builtin.user:
#     name: Roman

# - name: Set authorized key for Roman
#   ansible.posix.authorized_key:
#     user: Roman
#     state: present
#     key: https://github.com/romankuchin.keys